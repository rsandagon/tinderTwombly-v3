<html>

<head>
    <script src="chat.js"></script>
    <script src="app.js"></script>
    <title>AI Chat Twombly</title>
</head>

<body class="scroll-smooth bg-black" onload="initializeApp()">
    <!-- <link href="output.css" rel="stylesheet"> -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>

    </script>

    <section
        class="flex flex h-full justify-center antialiased bg-gray-50 text-gray-600 min-h-screen bg-[url('img/bg.jpg')] bg-cover"
        style="background-image: url('img/bg.jpg');">
        <div id="progressBar"
                class="fixed top-0 left-0 z-50 w-0 h-1 bg-green-700"></div>
        
                <div id="imgModal" aria-hidden="true" class="hidden overflow-x-hidden overflow-y-auto fixed bg-gray-100 bg-opacity-80 top=0 left-0 right-0 inset-0 z-50 justify-center items-center">
                    <div class="relative w-full max-w-full px-4 mx-auto md:h-auto">
                        <!-- Modal content -->
                        <div class="flex flex-col bg-white rounded-lg shadow m-4">
                            <!-- Modal header -->
                            <div class="h-auto flex items-start justify-between p-5 border-b rounded-t">
                                <button onclick="closeImgModal()" type="button" class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center" data-modal-toggle="default-modal">
                                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>  
                                </button>
                            </div>
                            <!-- Modal body -->
                            <div class="-m-1 flex flex-wrap md:-m-2">
                                <div class="flex w-full flex-wrap">
                                <div id="imgContainer" class="w-full p-1 md:p-2">
                                    <img
                                    alt="gallery"
                                    class="block h-full w-full rounded-lg object-cover object-center"
                                    src="/img/bg.jpg" />
                                </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
        
        <div class="flex justify-center h-4/5 overflow-y-scroll w-full">
            <!-- Card -->
            <div id="chatBox" class="max-w-full lg:max-w-screen-md p-5 h-full flex-1 flex flex-col chat-container">
            </div>
            
        </div>
        <audio id="audioPlayer" class="hidden" src="/snd/default.wav" controls></audio>
    </section>
    <footer>
        <div
                class="fixed bottom-0 left-0 z-50 w-full bg-white border-t border-gray-200 dark:bg-gray-700 dark:border-gray-600">
                <form id="chatForm">
                    <input class="hidden" autocomplete="false">
                    </input>
                    <label class="sr-only">Your message</label>
                    <div class="flex items-center px-3 py-2 rounded-lg bg-gray-50 dark:bg-gray-700">
                        <div id="connectBtnContainer" class="inline-flex justify-center p-2 text-gray-500 rounded-lg cursor-pointer hover:text-gray-900 hover:bg-gray-100 dark:text-gray-400 dark:hover:text-white dark:hover:bg-gray-600">
                            <img class="w-10 h-10" src="img/oval.svg" />
                            <span class="sr-only">Upload image</span>
                        </div>
                        
                        <input id="chatInput" rows="1"
                            class="block mx-4 p-2.5 w-full text-4xl lg:text-sm text-gray-900 bg-white rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-800 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
                            placeholder="Your message..."></input>
                        <button type="submit" id="submitBtn" onclick="chat()"
                            class="outline-none inline-flex justify-center p-2 text-blue-600 rounded-full cursor-pointer hover:bg-blue-100 dark:text-blue-500 dark:hover:bg-gray-600">
                            <svg class="w-14 h-14 lg:w-5 lg:h-5 rotate-90 rtl:-rotate-90" aria-hidden="true"
                                xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 18 20">
                                <path
                                    d="m17.914 18.594-8-18a1 1 0 0 0-1.828 0l-8 18a1 1 0 0 0 1.157 1.376L8 18.281V9a1 1 0 0 1 2 0v9.281l6.758 1.689a1 1 0 0 0 1.156-1.376Z" />
                            </svg>
                            <span class="sr-only">Send message</span>
                        </button>
                    </div>
                </form>
            </div>
    </footer>
</body>

</html>